(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/getLocation/getLocation"],{"5efa":function(t,e,o){"use strict";(function(t){o("7b83"),o("921b");a(o("66fd"));var e=a(o("72ac"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])},"72ac":function(t,e,o){"use strict";o.r(e);var a=o("b66f"),i=o("ed15");for(var n in i)"default"!==n&&function(t){o.d(e,t,function(){return i[t]})}(n);o("c8ff");var s=o("2877"),c=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"4599f38c",null);e["default"]=c.exports},b66f:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.show=!1},t.e1=function(e){e.stopPropagation(),t.show=!0})},i=[];o.d(e,"a",function(){return a}),o.d(e,"b",function(){return i})},c5e1:function(t,e,o){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o("17b8"),n=new i.AMapWX({key:"2649cf46ba2417b42f9fe36f53c57f63"}),s={data:function(){return{keywords:"",setUserData:{},show:!0,markers:[],latitude:23.13,longitude:113.27,city:"",myAmapFunflag:"",dataArr:[],maskerClick:!1,labels:[]}},onLoad:function(){var e=this;t.getLocation({type:"gcj02",success:function(o){console.log(a(o," at pages\\getLocation\\getLocation.vue:68")),console.log(a("当前位置的经度："+o.longitude," at pages\\getLocation\\getLocation.vue:69")),console.log(a("当前位置的纬度："+o.latitude," at pages\\getLocation\\getLocation.vue:70"));n.getRegeo({iconPath:"../../static/img/marker.png",location:o.longitude+","+o.latitude,success:function(t){console.log(a(t," at pages\\getLocation\\getLocation.vue:76")),e.markers=[{id:t[0].id,latitude:t[0].latitude,longitude:t[0].longitude,iconPath:t[0].iconPath,width:40,height:60,label:{content:t[0].name,fontSize:16,bgColor:"#fff",textAlign:"left",borderRadius:5,padding:3,color:"red",width:200}}],e.latitude=t[0].latitude,e.longitude=t[0].longitude},fail:function(e){t.showModal({title:e.errMsg})}})}})},methods:{makertap:function(t){var e=t.markerId,o=this;o.changeMarkerColor(this.markers,e)},changeMarkerColor:function(e,o){var i=this;this.maskerClick||(console.log(a(e," at pages\\getLocation\\getLocation.vue:124")),t.showModal({content:"确定更改地址?",success:function(t){if(t.confirm){var o=[];e[0].iconPath="../../static/img/marker_checked.png",i.setUserMessage(e[0].label.content),i.maskerClick=!0,console.log(a(e," at pages\\getLocation\\getLocation.vue:138")),o.push({id:e[0].id,latitude:e[0].latitude,longitude:e[0].longitude,iconPath:e[0].iconPath,width:e[0].width,height:e[0].height,label:{content:e[0].label.content||e[0].regeocodeData.formatted_address,fontSize:16,bgColor:"#fff",textAlign:"right",borderRadius:5,padding:3,color:"red"}}),i.latitude=e[0].latitude,i.longitude=e[0].longitude,i.markers=o,console.log(a("可以了"," at pages\\getLocation\\getLocation.vue:163"))}}}))},selectAdress:function(e){var o=this;if(this.maskerClick=!1,0===e.location.length)return t.showToast({title:"请输入具体地址",icon:"none"}),!1;this.longitude=e.location.split(",")[0],this.latitude=e.location.split(",")[1],this.show=!1,this.myAmapFunflag.getRegeo({iconPath:"../../static/img/marker.png",location:this.longitude+","+this.latitude,success:function(e){console.log(a(e," at pages\\getLocation\\getLocation.vue:185")),o.maskerClick=!0,o.markers=[{id:e[0].id,latitude:e[0].latitude,longitude:e[0].longitude,iconPath:e[0].iconPath,width:40,height:60,label:{content:e[0].regeocodeData.formatted_address,fontSize:16,bgColor:"#fff",textAlign:"right",borderRadius:5,padding:3,color:"red"}}],o.latitude=e[0].latitude,o.longitude=e[0].longitude,t.showModal({content:"确定更改地址?",success:function(t){if(t.confirm){var i=[];e[0].iconPath="../../static/img/marker_checked.png",i.push({id:e[0].id,latitude:e[0].latitude,longitude:e[0].longitude,iconPath:e[0].iconPath,width:e[0].width,height:e[0].height,label:{content:e[0].regeocodeData.formatted_address,fontSize:16,bgColor:"#fff",textAlign:"right",borderRadius:5,padding:3,color:"red"}}),o.latitude=e[0].latitude,o.longitude=e[0].longitude,o.markers=i,o.setUserMessage(e[0].regeocodeData.formatted_address),console.log(a("可以了"," at pages\\getLocation\\getLocation.vue:241"))}}})},fail:function(e){t.showModal({title:e.errMsg})}}),console.log(a(this.myAmapFunflag," at pages\\getLocation\\getLocation.vue:252"))},setUserMessage:function(e){var o=this,i="";this.setUserData=t.getStorageSync("setUserData"),console.log(a(this.setUserData," at pages\\getLocation\\getLocation.vue:259")),i=9===this.setUserData.role.id||10===this.setUserData.role.id||11===this.setUserData.role.id?9===this.setUserData.role.id?this.setUserData.merchant.merchantName:this.setUserData.distributeNode.tracePoint:this.setUserData.merchant.merchantName,this.$common.post("/accountCenter/account/updateNode",{location:e,tracePoint:i}).then(function(e){200===e.data.statusCode?(o.$common.showToast("修改成功","success"),t.setStorageSync("setUserData",e.data.data),setTimeout(function(){t.navigateBack({url:-1})},2e3)):o.$common.showToast(e.data.statusMsg,"none")})},bindInput:function(t){if(!t.detail.value)return this.dataArr=[],!1;this.myAmapFunflag=n;var e=this;n.getInputtips({keywords:t.detail.value,success:function(t){console.log(a(t.tips," at pages\\getLocation\\getLocation.vue:298")),e.dataArr=t.tips,console.log(a(e.dataArr," at pages\\getLocation\\getLocation.vue:301"))}});var o={iconPathSelected:"../../static/img/marker_checked.png",iconPath:"../../static/img/marker.png",success:function(t){console.log(a(t," at pages\\getLocation\\getLocation.vue:308"))}};n.getPoiAround(o)}}};e.default=s}).call(this,o("6e42")["default"],o("0de9")["default"])},c877:function(t,e,o){},c8ff:function(t,e,o){"use strict";var a=o("c877"),i=o.n(a);i.a},ed15:function(t,e,o){"use strict";o.r(e);var a=o("c5e1"),i=o.n(a);for(var n in a)"default"!==n&&function(t){o.d(e,t,function(){return a[t]})}(n);e["default"]=i.a}},[["5efa","common/runtime","common/vendor"]]]);