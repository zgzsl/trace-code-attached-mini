<view class="print"><view class="print_header"><block wx:for="{{NavList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['tapNav',[index]]]]]}}" class="{{['item',(active===index)?'active':'']}}" bindtap="__e">{{item.name}}</view></block></view><block wx:if="{{active===0}}"><view class="setting"><view class="code_step">生成外码步骤</view><view class="item_active"><uni-steps vue-id="5731d438-1" options="{{data}}" active-color="#f53647" direction="row" active="{{activeIndex}}" bind:__l="__l"></uni-steps><block wx:if="{{$root.m0===0}}"><view class="one_step"><uni-list class="uni-list_one" vue-id="5731d438-2" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="item" bindtap="__e"><view class="left">开始时间</view><view class="right">{{''+(start||'请输入日期')+''}}</view></view><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="item" bindtap="__e"><view class="left">结束时间</view><view class="right">{{''+(end||'请输入日期')+''}}</view></view></uni-list><view class="concent">选择其中一个批次号</view><view class="list"><radio-group data-event-opts="{{[['change',[['radioChange',['$event']]]]]}}" bindchange="__e"><block wx:for="{{zsCodeArr}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{zsCodeArr.length>0}}"><view class="list_item"><radio color="rgb(246, 64, 70)" value="{{item.traceCodeNumber}}" checked="{{index===current}}"></radio><text>{{item.traceCodeNumber||"错误码"}}</text><view data-event-opts="{{[['tap',[['detailCode',['$0'],[[['zsCodeArr','',index,'traceCodeNumber']]]]]]]}}" class="img" bindtap="__e"><image src="../../static/images/lie.png" mode></image></view></view></block></block></radio-group><block wx:if="{{zsCodeArr.length===0}}"><view class="zsNot">-暂无批次号-</view></block></view></view></block><block wx:if="{{$root.m1===1}}"><view class="scend_step"><view class="concent">设置对应的比例</view><view class="goodList"><block wx:for="{{getGoodsLists}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{getGoodsLists.length>0}}"><view class="item"><view class="item_header"><view class="left">{{'编号：'+item.traceFromNumber+"-"+item.traceToNumber+''}}</view><view class="left">{{'商品名称：'+(item.traceGoodsName||"")+''}}</view></view><view class="item_botom"><label class="_span">设置比例：</label><input type="text" data-event-opts="{{[['input',[['__set_model',['$0','outCodeRadio','$event',[]],[[['getGoodsLists','',index]]]]]]]}}" value="{{item.outCodeRadio}}" bindinput="__e"/></view></view></block></block><block wx:if="{{getGoodsLists.length===0}}"><view class="zsNot">-批次号暂无商品-</view></block></view></view></block><block wx:if="{{$root.m2===2}}"><view class="third_step"><view class="concent">外码生成结果</view><view class="img"><image src="../../static/images/finish.png" mode="widthFix"></image><view>生成成功！</view></view></view></block></view></view></block><block wx:if="{{active===0}}"><view class="btn_box"><block wx:if="{{activeIndex===0||activeIndex===1}}"><button class="btn" type="primary" data-event-opts="{{[['tap',[['last',['$event']]]]]}}" bindtap="__e">上一步</button></block><block wx:if="{{activeIndex===0}}"><button class="btn" type="primary" data-event-opts="{{[['tap',[['next',['$event']]]]]}}" bindtap="__e">下一步</button></block><block wx:if="{{activeIndex===1}}"><button class="btn" type="primary" data-event-opts="{{[['tap',[['nextPrint',['$event']]]]]}}" bindtap="__e">立即打印</button></block></view></block><block wx:if="{{active===1}}"><view class="btn_box"><button class="btn" type="primary" data-event-opts="{{[['tap',[['outZsCode',['$event']]]]]}}" bindtap="__e">立即打印</button></view></block><block wx:if="{{active===1}}"><view class="setting_number"><view class="setting_number_methods">使用方法：</view><view class="setting_number_methods_detail">直接生成外码，需调用绑定功能，将已经生成的内码或者外码进行关联</view><view class="setting_number_methods_input"><text>数量</text><input type="number" placeholder="请输入数量" data-event-opts="{{[['input',[['__set_model',['','count','$event',[]]]]]]}}" value="{{count}}" bindinput="__e"/><image src="../../static/images/chu.png" mode data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" bindtap="__e"></image></view></view></block><mx-date-picker vue-id="5731d438-3" show="{{showPickerStart}}" type="{{type}}" value="{{start}}" show-tips="{{true}}" show-seconds="{{true}}" data-event-opts="{{[['^confirm',[['onSelected',['start','$event','confirm']]]],['^cancel',[['onSelected',['start','$event','cancel']]]]]}}" bind:confirm="__e" bind:cancel="__e" bind:__l="__l"></mx-date-picker><mx-date-picker vue-id="5731d438-4" show="{{showPickerEnd}}" type="{{type}}" value="{{end}}" show-tips="{{true}}" show-seconds="{{true}}" data-event-opts="{{[['^confirm',[['onSelected',['end','$event','confirm']]]],['^cancel',[['onSelected',['end','$event','cancel']]]]]}}" bind:confirm="__e" bind:cancel="__e" bind:__l="__l"></mx-date-picker><pengkai-draw vue-id="5731d438-5" visible="{{visible}}" mode="right" catchtouchmove="false" data-event-opts="{{[['^close',[['closeDrawer']]]]}}" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view class="scroll-Y" scroll-y="true" lower-threshold="0" data-event-opts="{{[['scrolltolower',[['scroll',['$event']]]]]}}" bindscrolltolower="__e"><block wx:for="{{traceCodeNumberArr}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{traceCodeNumberArr.length>0}}"><view class="scroll_item"><view class="uni-title">{{"编号："+(item.traceFromNumber||0)+"----"+(item.traceToNumber||0)}}</view><view class="uni-title">{{"名称："+(item.traceGoodsName||'')}}</view></view></block></block><block wx:if="{{traceCodeNumberArr.length===0}}"><view class="nothing"><view class="nogood"><image src="../../static/images/nogood.png" mode="widthFix"></image></view><text>暂无商品</text></view></block></scroll-view></pengkai-draw></view>